import{f as k,r as l,g as _,c as w,b as a,w as o,i as t,F as y,a as V,o as x,H as p,D as m,Z as z,j as F,E as R,k as C,n as L}from"./CRXouYqj.js";import{a as c}from"./C8DqakIB.js";const U=V("h1",null,"Hangoskönyvek",-1),E=k({__name:"index",setup(j){const d=l([{}]),n=l(1),r=l(100),f=l(50),u=l(""),g=[{key:"title",sortable:!0,label:"Cím"},{key:"author",sortable:!0,label:"Szerző"}];async function b(){try{window.location.href.startsWith("http://localhost")?c.defaults.baseURL="http://localhost:3000":c.defaults.baseURL="https://bartlbalazs.github.io/mekjatszo/";const e=await c.get("/static/full_list.json");e.data&&(r.value=e.data.length,d.value=e.data)}catch(e){console.log(e)}}_(()=>{b()});function v(e){r.value=e.length}async function h(e){await L("/book/"+e.id)}return(e,s)=>(x(),w(y,null,[U,a(t(C),null,{default:o(()=>[a(t(p),null,{default:o(()=>[a(t(m),null,{default:o(()=>[a(t(z),{modelValue:u.value,"onUpdate:modelValue":s[0]||(s[0]=i=>u.value=i),placeholder:"Keresés"},null,8,["modelValue"])]),_:1})]),_:1}),a(t(F),{"sort-by":[{key:"title",order:"asc"}],"sort-internal":!0,items:d.value,fields:g,filter:u.value,"per-page":f.value,"current-page":n.value,onFiltered:v,"select-mode":"single",ref:"selectableTable",selectable:"",onRowClicked:h},null,8,["items","filter","per-page","current-page"]),a(t(p),null,{default:o(()=>[a(t(m),null,{default:o(()=>[a(t(R),{modelValue:n.value,"onUpdate:modelValue":s[1]||(s[1]=i=>n.value=i),"total-rows":r.value,"per-page":f.value,align:"fill",size:"sm",class:"my-0"},null,8,["modelValue","total-rows","per-page"])]),_:1})]),_:1})]),_:1})],64))}});export{E as default};
